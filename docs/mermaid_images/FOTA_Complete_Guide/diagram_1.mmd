graph TB
    subgraph "Mobile Phone"
        A[Mobile App]
    end
    
    subgraph "Primary Device"
        B[Right Foot<br/>SensingGR]
        B1[SMP Server]
        B2[FOTA Proxy]
        B3[File Proxy]
        B4[Info Service]
    end
    
    subgraph "Secondary Device"
        C[Left Foot<br/>SensingGL]
        C1[SMP Server]
        C2[D2D TX Service]
        C3[D2D File Transfer]
    end
    
    A <-->|"BLE<br/>Direct FOTA"| B1
    A <-->|"BLE<br/>Proxy Services"| B2
    A <-->|"BLE<br/>File Access"| B3
    B2 <-->|"D2D<br/>SMP Client"| C1
    B3 <-->|"D2D<br/>File Protocol"| C3