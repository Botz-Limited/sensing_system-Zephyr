# Keep heap size reasonable for network core (64KB RAM total)
CONFIG_HEAP_MEM_POOL_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

CONFIG_MBOX=y
CONFIG_IPC_SERVICE=y

CONFIG_BT=y
CONFIG_BT_HCI_RAW=y
CONFIG_BT_MAX_CONN=6

# Enable and adjust the below value as necessary
# Optimized buffer counts for network core memory constraints
CONFIG_BT_BUF_EVT_RX_COUNT=32
CONFIG_BT_BUF_EVT_RX_SIZE=125
CONFIG_BT_BUF_ACL_RX_SIZE=125
CONFIG_BT_BUF_ACL_TX_SIZE=125
CONFIG_BT_BUF_CMD_TX_SIZE=125

# Enable data length extension for MCUmgr large packets
CONFIG_BT_CTLR_DATA_LENGTH_MAX=125

# Copy controller configuration from prj.conf
CONFIG_BT_CTLR_LE_ENC=n
CONFIG_BT_CTLR_CHAN_SEL_2=n
CONFIG_BT_CTLR_MIN_USED_CHAN=n
CONFIG_BT_CTLR_PRIVACY=n

# Controller resources optimized for memory constraints
CONFIG_BT_CTLR_RX_BUFFERS=20

# Enables the extended advertising API support and the necessary amount of advertising sets
# in the Bluetooth controller on the network core
CONFIG_BT_EXT_ADV=y
CONFIG_BT_EXT_ADV_MAX_ADV_SET=3

CONFIG_IPC_RADIO_BT=y
CONFIG_IPC_RADIO_BT_HCI_IPC=y

# For primary device, we only need observer role (for scanning)
# For secondary device, we need both observer and central roles
CONFIG_BT_OBSERVER=y
# Note: BT_CENTRAL is controlled by the build configuration
# Primary device: BT_CENTRAL=n (set by default)
# Secondary device: BT_CENTRAL=y (set by prj_secondary.conf)

CONFIG_NORDIC_QSPI_NOR_FLASH_LAYOUT_PAGE_SIZE=4096
