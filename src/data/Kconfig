config DATA_MODULE
	bool "Data Storage System"
	select SPI
	select SPI_NOR
	select FLASH
	select FILE_SYSTEM
	select FLASH_MAP
	select FLASH_PAGE_LAYOUT
	select HWINFO
	select FILE_SYSTEM_LITTLEFS
	select FS_LITTLEFS_FMP_DEV
	select CONFIG_PM_PARTITION_REGION_LITTLEFS_EXTERNAL
	select CONFIG_PM_PARTITION_REGION_SETTINGS_STORAGE_EXTERNAL
	select FILE_SYSTEM_SHELL 
	select SETTINGS

# kconfigs required for shell test commands
	select FLASH_JESD216_API
	select CONFIG_ENTROPY_DEVICE_RANDOM_GENERATOR

	help
	  DATA_MODULE

if DATA_MODULE

config FILE_SYSTEM_MOUNT
	string
	default "/lfs1"

config SETTINGS_FS_DIR
	string
	default "/lfs1/"

config SETTINGS_FILE_PATH 
	string
	default "/lfs1/settings"

config LOG_BACKEND_FS_DIR
	string
	default "/lfs1/"

config DATA_MODULE_RESET_SETTINGS_FILE_ON_BOOT
	bool "Will wipe the settings file used by the setting subsytem on boot"
	default n

config DATA_MODULE_STACK_SIZE
	int "Data module thread stack size"
	default 5120

config DATA_MODULE_PRIORITY
	int "Data module thread priority"
	default 11

# required with littlefs for some reason
config BT_LONG_WQ_STACK_SIZE
	default 3072	

config DATA_LOG_SPACE_LEFT_THRESHOLD_KB
	int  "Flash memory minimum free space in Kbytes to trigger file deletion"
	default 200

config DATA_DELETE_DAYS
	int "Number of logg days to delete if not enogh space on the external flash"	
	default 7

module = DATA_MODULE
module-str = data module
source "subsys/logging/Kconfig.template.log_config"

endif # DATA_MODULE